- minutes = (reservation.reserve_end_at - reservation.reserve_start_at) / 60
- minutes_from_midnight = (reservation.reserve_start_at - reservation.reserve_start_at.beginning_of_day) / 60
- classes ||= ['unit']
- if local_assigns[:type] == :blackout
  - classes << 'blackout'
- else
  - classes << 'tip'
  - classes << 'admin' if reservation.admin?
  - classes << "status_#{reservation.order_detail.order_status.to_s.downcase}" if reservation.order_detail
%div{ :style => "width: #{minutes * 0.6}px; left: #{minutes_from_midnight * 0.6}px", :class => classes.join(" ") }[reservation, :block]          