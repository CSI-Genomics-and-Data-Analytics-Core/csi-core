<html>
  <head>
    <link rel="stylesheet" href="css/reset.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/960.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/text.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <link rel="stylesheet" href="css/style.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.18/jquery-ui.min.js" type="text/javascript"></script>
    <script src="js/tooltipsy.min.js" type="text/javascript" charset="utf-8"></script>
    <script>
    	$(function() {
    	  //Set Draggable Unit, grid and axis
    		$( ".unit" ).draggable({
    		  axis: "x",
    		  containment: "parent",
    		  grid: [ 2, 0],
    		  opacity: 0.7,
    		  revert: 'invalid',
    		    stop: function(){
                $(this).draggable('option','revert','invalid');  
            }
    		});
    	  //The unit container will fit the units. 
      	$('.unit_container').droppable({
            tolerance: 'fit'
        });
        //Do not allow the overlap, yell at me if I try to drop a reservation on a reservation
        $('.unit').droppable({
          greedy: true,
          tolerance: 'touch',
          hoverClass: "invalid",
          drop: function(event,ui){
             $(this).off('invalid');
              ui.draggable.draggable('option','revert',true);
              alert("These Times Over Lap - You Can't Do that.");
          }
        })
        //Tool Tip
        $('.tip').tooltipsy({
            content: '<strong>Firstname Lastname</strong><br /><small>Start Time - End Time - <strong>Status</strong><br /><a href="#">Action Links</a></small>',
            css: {
              'padding': '5px',
              'max-width': '200px',
              'color': '#303030',
              'background-color': '#fff',
              'border': '1px solid #ccc',
              'border-radius' : '5px',
              '-moz-box-shadow': '0 0 10px rgba(0, 0, 0, .5)',
              '-webkit-box-shadow': '0 0 10px rgba(0, 0, 0, .5)',
              'box-shadow': '0 0 10px rgba(0, 0, 0, .5)',
              'text-shadow': 'none'
            }
        });
        //Get the Current Hour, create a class and add it the time div
        time = function() {
          var currentTime = new Date()
          var hours = currentTime.getHours()            
          $('.time').addClass("hour_" + hours);
        };  
        time();
        setInterval(time, 500);
    
      });
    </script>
  </head>
  <body>
    <div class="container_12">
      <h1>NuCore Timeline</h1>
      <div class="grid_12 alpha">
        <div class="timeline">
          <!-- Inline Style width is the duration and left is the start times, every ten minutes is 6px -->
          <div class="unit_container">
            <div class="unit confirmed tip" style="width:120px; left:72px"></div>
            <div class="unit not_confirmed tip" style="width:60px; left:0"></div>
            <div class="unit confirmed tip" style="width: 120px; left:480px"></div>
            <div class="unit not_confirmed tip" style="width:6px; left:732px"></div>  
          </div>
        </div>
        <div class="blackout" style="left:503px"></div>
        <div class="time"></div>
      </div>
      <div class="grid_12 alpha">
        <div class="timeline">
          <div class="unit_container">
            <div class="unit confirmed tip" style="width:120px; left:72px"></div>
            <div class="unit not_confirmed tip" style="width:60px; left:0"></div>
            <div class="unit confirmed tip" style="width: 120px; left:480px"></div>
            <div class="unit not_confirmed tip" style="width:24px; left:732px"></div>
          </div>
        </div>
        <div class="blackout" style="left:299px"></div>
        <div class="time"></div>
      </div>
    </div>
  </body>
</html>